# 🤖 AI聊天网站开发项目

## 项目概述
一个现代化的AI聊天网站，支持多角色对话、语音交互、文本处理等功能，采用简洁优雅的苹果风格设计。

## 🎯 核心功能
- ✅ **🎁 免费AI体验**：无需配置API密钥，每日20次免费对话
- ✅ AI智能对话（文字+语音输入）
- ✅ 多角色身份切换（教师、医生、领导等）
- ✅ 多语言和语气支持
- ✅ 文本润色与翻译
- ✅ 第三方AI模型API集成
- ✅ 使用次数实时显示和智能提醒

## 🎨 设计理念
- 现代化苹果风格界面
- 融合艺术感的创新设计
- 流畅自然的用户体验
- 简洁清晰的视觉层次

## 🏗️ 技术架构
- **前端**: HTML5 + CSS3 + 原生JavaScript
- **样式**: CSS Grid/Flexbox + CSS变量系统
- **图标**: 自制SVG矢量图标
- **API**: Fetch API + RESTful接口
- **存储**: LocalStorage本地存储

## 📁 项目结构
```
AI-WEB/
├── index.html          # 主页面
├── styles/             # 样式文件夹
│   ├── main.css       # 主样式
│   ├── components.css # 组件样式
│   └── animations.css # 动画效果
├── scripts/            # 脚本文件夹
│   ├── app.js         # 主应用逻辑
│   ├── chat.js        # 聊天功能
│   ├── voice.js       # 语音处理
│   ├── api.js         # API接口管理
│   └── utils.js       # 工具函数
├── assets/             # 资源文件夹
│   ├── icons/         # SVG图标
│   └── sounds/        # 音效文件
└── README.md          # 项目文档
```

## 🚀 开发计划

### 第一阶段：基础框架 ✅
- [x] 项目结构搭建
- [x] 基础HTML页面结构
- [x] CSS样式系统建立
- [x] 基础JavaScript框架

### 第二阶段：核心功能 ✅
- [x] 聊天界面实现
- [x] 消息收发逻辑
- [x] 角色切换功能
- [x] API接口集成

### 第三阶段：高级功能 ✅
- [x] 语音输入支持
- [x] 文本处理功能
- [x] 多语言支持
- [x] 动画效果优化

### 第四阶段：完善优化 🚧
- [x] 响应式设计
- [ ] 性能优化
- [ ] 用户体验测试
- [ ] 部署上线

## 🚀 快速开始

> 💡 **想要部署自己的免费AI服务？** 查看 [部署指南](DEPLOYMENT.md) 了解如何部署到Vercel

### 1. 下载项目
```bash
# 下载项目文件到本地
# 或直接解压项目压缩包
```

### 2. 启动本地服务器
```bash
# 使用Python启动服务器
python -m http.server 8000

# 或使用Node.js
npx http-server

# 或使用任何静态文件服务器
```

### 3. 访问网站
在浏览器中打开：`http://localhost:8000`

### 4. 开始使用（免费体验）
🎁 **无需配置，立即体验**：
- 默认使用免费体验服务，每日20次对话机会
- 🗣️ 点击语音按钮进行语音对话
- 🎭 切换不同角色（教师、医生、领导等）
- ✨ 使用快捷操作进行文本翻译和润色
- 📱 支持桌面和移动设备

### 5. 升级体验（可选）
如需更多对话次数，可配置个人API密钥：
1. 点击右上角的设置按钮 ⚙️
2. 选择AI提供商（OpenAI、DeepSeek、Claude等）
3. 输入您的API密钥
4. 保存设置，享受无限制对话

## 📖 使用指南

### 基础功能
- **文字对话**: 在输入框中输入问题，按Enter发送
- **语音对话**: 点击🎤按钮开始语音输入
- **角色切换**: 点击顶部角色按钮切换AI身份
- **历史记录**: 左侧边栏查看和管理对话历史

### 快捷键
- `Ctrl + K`: 聚焦输入框
- `Ctrl + Enter`: 发送消息
- `Enter`: 发送消息
- `Shift + Enter`: 换行
- `Esc`: 关闭面板
- `Ctrl + B`: 切换侧边栏显示/隐藏

### 高级功能
- **文本处理**: 使用侧边栏的翻译和润色功能
- **语音设置**: 在设置中调整语音参数
- **主题切换**: 支持浅色/深色/自动主题
- **多语言**: 支持中英日韩等多种语言

## 🔧 API配置指南

### 支持的AI提供商
| 提供商 | 模型 | 获取方式 |
|--------|------|----------|
| OpenAI | GPT-3.5/GPT-4 | [platform.openai.com](https://platform.openai.com) |
| DeepSeek | DeepSeek-Chat | [platform.deepseek.com](https://platform.deepseek.com) |
| Claude | Claude-3 | [console.anthropic.com](https://console.anthropic.com) |
| 自定义 | 任意兼容模型 | 配置自定义端点 |

### API密钥获取步骤
1. 访问对应AI提供商官网
2. 注册账号并完成认证
3. 进入API管理页面
4. 创建新的API密钥
5. 复制密钥到本网站设置中

## 📝 更新日志
- 2024-01-XX: 项目初始化，完成需求分析和架构设计
- 2024-01-XX: 完成基础框架搭建和UI设计
- 2024-01-XX: 实现聊天功能和角色切换
- 2024-01-XX: 添加语音输入输出功能
- 2024-01-XX: 完成API接口集成和设置面板
- 2024-01-XX: 优化响应式设计和用户体验
- 2024-01-XX: 修复设置和对话历史按钮点击无反应问题
- 2025-09-10: 🎁 实现免费AI对话服务 ✨
  - 创建Vercel云函数代理服务，隐藏API密钥确保安全
  - 实现用户使用次数限制：每日20次免费对话，每小时10次频率限制
  - 添加基于浏览器指纹的用户识别系统，防止恶意刷量
  - 新增免费服务选项到设置面板，默认启用免费体验
  - 实现使用次数实时显示和警告提醒机制
  - 创建优雅的升级提示模态框，引导用户配置API密钥
  - 添加完整的错误处理和降级策略
  - 支持CORS跨域访问和请求来源验证
  - 提供详细的部署指南和环境配置说明
  - 让用户无需配置API即可直接体验AI对话功能
- 2025-09-09: 修复主题模式切换无反应问题
  - 添加基于 `data-theme` 属性的CSS样式规则
  - 修复深色/浅色主题变量定义
  - 完善主题切换的视觉反馈效果
- 2025-09-09: 修复界面语言切换无反应问题
  - 实现完整的国际化(i18n)系统
  - 添加中文简体/繁体、英文、日文多语言支持
  - 支持界面元素、提示文本、通知消息的多语言切换
  - 添加 `data-i18n` 和 `data-i18n-title` 属性支持
- 2025-09-09: 修复上传文件按钮点击无反应问题
  - 为上传文件按钮添加事件监听器和处理逻辑
  - 实现多文件上传支持（文本、图片、PDF等格式）
  - 添加文件类型验证和大小限制（10MB以内）
  - 支持文本文件内容自动添加到输入框
  - 支持图片文件预览和AI分析功能
  - 完善文件处理错误提示和用户反馈
- 2025-09-09: 添加拖拽上传功能
  - 实现文件拖拽到聊天区域的上传功能
  - 添加拖拽覆盖层和视觉反馈效果
  - 创建拖拽提示和引导界面
  - 支持拖拽计数器处理嵌套元素事件
  - 优化拖拽动画和苹果风格设计
  - 完善移动端拖拽体验和响应式适配
- 2025-09-09: 重构角色切换器为下拉菜单式设计
  - 将四个独立角色按钮整合为一个优雅的下拉菜单组件
  - 设计苹果风格的下拉动画效果和视觉反馈
  - 添加角色描述信息，提升用户体验
  - 实现完整的键盘导航和无障碍访问支持
  - 优化移动端响应式布局和触摸交互
  - 支持多语言角色名称和描述显示
- 2025-09-09: 优化输入框功能集成设计
  - 将侧边栏的翻译、润色功能整合到输入框区域
  - 在输入框右侧添加功能菜单按钮，提供文本处理选项
  - 新增总结文本功能，丰富文本处理能力
  - 实现功能菜单的下拉动画和苹果风格设计
  - 优化功能按钮的视觉反馈和交互体验
  - 自动发送处理请求，简化用户操作流程
  - 移除侧边栏底部冗余按钮，界面更简洁
- 2025-09-09: 实现3D全息投影机器人替换静态介绍框 🤖✨
  - 将欢迎页面的静态功能介绍框替换为单个动态3D全息投影机器人
  - 实现机器人的3D立体效果，包括头部、身体、手臂的完整结构
  - 添加丰富的动画效果：悬浮、旋转、呼吸、眼部闪烁、手臂挥动
  - 创建全息投影光环系统，包括多层旋转光环和颜色渐变
  - 实现30个动态粒子系统，营造科幻全息氛围
  - 添加交互特效：鼠标悬停加速动画、点击产生能量波纹和粒子爆发
  - 支持深色主题适配和响应式设计，兼容各种设备尺寸
  - 实现性能优化：GPU加速、减少重绘、支持用户动画偏好设置
  - 创建模块化的HologramRobot类，便于扩展和维护
  - 完美融入现有苹果风格设计，提升整体视觉冲击力
  - 简化为单个居中显示的机器人，更加突出主题
  - 移除底部文字标签，保持纯净的视觉效果
- 2025-09-09: 实现汉堡菜单式侧边栏切换功能 🍔✨
  - 在左上角logo旁添加优雅的汉堡菜单按钮，符合主流应用习惯
  - 实现桌面端侧边栏滑动收起/展开功能，节省界面空间
  - 汉堡图标支持流畅的动画过渡，收起时变为X形状
  - 添加键盘快捷键支持：Ctrl+B 快速切换侧边栏显示状态
  - 完善的移动端和桌面端响应式适配，统一交互体验
  - 按钮状态实时同步，提供清晰的视觉反馈
  - 保持苹果风格的简约设计，与现有UI完美融合
- 2025-09-10: 实现机器人角色互动系统 🤖🎭✨
  - 点击3D全息投影机器人实现智能角色循环切换功能
  - 四种角色专属视觉设计：智能助手(蓝)、AI教师(绿+学术帽)、AI医生(白+红十字)、AI领导(金+皇冠)
  - 完整的变身过渡动画系统：收缩→变换→展开→稳定，包含颜色渐变和形态调整
  - 集成Web Speech API语音反馈：每个角色有独特的自我介绍语音
  - 实现机器人与顶部角色选择器的完美双向同步系统
  - 角色状态持久化存储，页面刷新后保持用户选择
  - 创建RoleSyncManager统一管理所有角色相关的交互和状态
  - 支持外部API调用和全局事件系统，便于扩展和集成
  - 优化用户体验：防抖处理、动画冲突避免、无障碍访问支持
  - 完美融入现有苹果风格设计，提升整体交互体验和视觉冲击力
- 2025-09-10: 实现单独删除对话历史功能 🗑️✨
  - 为对话历史项添加悬停显示的优雅删除按钮，符合现代应用交互习惯
  - 实现右键上下文菜单，提供删除和重命名对话选项（重命名功能预留）
  - 创建苹果风格的确认删除对话框，包含图标、标题、消息和操作按钮
  - 完整的删除对话核心逻辑：从localStorage移除、UI同步更新、错误处理
  - 支持键盘导航：Esc关闭弹窗、Enter确认删除、Tab键切换焦点
  - 添加完整的无障碍访问支持：ARIA标签、屏幕阅读器友好
  - 多语言支持：中文简繁体、英文、日文的完整翻译文本
  - 优雅的动画过渡效果和视觉反馈，保持苹果风格的设计一致性
  - 智能处理当前对话删除：自动开始新对话，确保用户体验连续性
  - 完善的错误处理和用户通知系统，操作结果清晰可见
- 2025-09-10: 修复输入框前导空格符问题 ✨🔧
  - 解决textarea元素开始和结束标签之间的空白字符导致的前导空格问题
  - 移除HTML中textarea标签之间的换行符和缩进空格
  - 在CSS中显式设置text-indent: 0和text-align: left确保文本正确对齐
  - 创建专门的测试页面验证修复效果和调试输入框行为
  - 确保在所有现代浏览器中输入框文本都从正确位置开始
  - 提升用户输入体验，消除意外的前导空格干扰
- 2025-09-10: 配置云开发AI规则和Cursor开发环境 🔧✨
  - 创建完整的.cursorrules配置文件，定义云开发AI助手的行为规范
  - 配置专门针对初学者友好的开发指导原则和技术栈选择策略
  - 设置苹果风格设计理念和SVG设计能力要求
  - 建立系统性的Bug处理机制和代码质量标准
  - 添加.cursor/settings.json工作区配置，优化开发体验
  - 配置代码格式化、自动保存、语法高亮等开发环境设置
  - 确保中文简体交流和用户友好的技术支持体验

## 🔧 技术特性

### 前端技术
- **原生JavaScript**: 无框架依赖，轻量高效
- **CSS3**: 现代CSS特性，流畅动画
- **HTML5**: 语义化标签，良好的可访问性
- **响应式设计**: 适配各种设备尺寸

### 核心功能
- **实时对话**: 支持流式响应和打字效果
- **语音交互**: Web Speech API语音识别和合成
- **数据持久化**: LocalStorage本地存储
- **错误处理**: 完善的错误捕获和用户提示

### 设计理念
- **苹果风格**: 简约优雅的界面设计
- **用户友好**: 直观的交互和清晰的反馈
- **性能优化**: 防抖节流，资源懒加载
- **可扩展性**: 模块化架构，易于维护

## 🛠️ 自定义开发

### 添加新的AI提供商
在 `scripts/api.js` 中添加新的提供商配置：

```javascript
const AI_PROVIDERS = {
  // 现有提供商...
  newProvider: {
    name: '新提供商',
    endpoint: 'https://api.example.com/v1/chat',
    models: ['model-1', 'model-2'],
    headers: (apiKey) => ({
      'Authorization': `Bearer ${apiKey}`
    }),
    formatRequest: (messages, model, options) => ({
      // 请求格式化逻辑
    }),
    parseResponse: (response) => ({
      // 响应解析逻辑
    })
  }
};
```

### 添加新的AI角色
在 `scripts/chat.js` 中的 `roles` 对象添加新角色：

```javascript
roles: {
  // 现有角色...
  newRole: {
    name: '新角色',
    systemPrompt: '角色的系统提示词',
    avatar: '🎭',
    color: '#FF6B6B'
  }
}
```

## 📋 API接口预留
预留以下第三方AI模型接口：
- ✅ OpenAI GPT系列
- ✅ DeepSeek
- ✅ Claude
- 🔄 文心一言 (规划中)
- 🔄 通义千问 (规划中)
- ✅ 其他自定义API

## 🤝 贡献指南
欢迎提交Issues和Pull Requests来改进项目！

### 开发环境
1. 克隆项目
2. 启动本地服务器
3. 在浏览器中测试功能
4. 提交代码前请确保功能正常

### 代码规范
- 使用ES6+语法
- 遵循现有代码风格
- 添加必要的注释
- 测试新功能的兼容性

---
*AI智能助手 - 让AI对话更简单、更智能、更有趣！* 🚀
